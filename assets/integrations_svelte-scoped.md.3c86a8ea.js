import{_ as s,o as a,c as n,O as l}from"./chunks/framework.37c6c1ca.js";const B=JSON.parse('{"title":"UnoCSS Svelte Scoped","description":"UnoCSS Svelte Scoped Vite 插件和 UnoCSS 的 Svelte 预处理器。","frontmatter":{"title":"UnoCSS Svelte Scoped","description":"UnoCSS Svelte Scoped Vite 插件和 UnoCSS 的 Svelte 预处理器。","outline":"deep"},"headers":[],"relativePath":"integrations/svelte-scoped.md","lastUpdated":1691638604000}'),p={name:"integrations/svelte-scoped.md"},o=l(`<h1 id="svelte-scoped" tabindex="-1">Svelte Scoped <a class="header-anchor" href="#svelte-scoped" aria-label="Permalink to &quot;Svelte Scoped&quot;">​</a></h1><p>将每个 Svelte 组件的实用样式的生成 CSS 直接放入 Svelte 组件的 <code>&lt;style&gt;</code> 块中，而不是放在全局 CSS 文件中。</p><p>这个组件：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">mb-1</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">mb-1</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span></code></pre></div><p>被转换为：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">uno-ei382o</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  :global(</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uno-ei382o</span><span style="color:#DBD7CAEE;">) </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin-bottom</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">uno-ei382o</span><span style="color:#B5695999;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  :global(</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uno-ei382o</span><span style="color:#393A34;">) </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin-bottom</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span></code></pre></div><h2 id="何时使用" tabindex="-1">何时使用 <a class="header-anchor" href="#何时使用" aria-label="Permalink to &quot;何时使用&quot;">​</a></h2><table><thead><tr><th>使用场景</th><th></th><th>描述</th><th>使用的包</th></tr></thead><tbody><tr><td>小型应用</td><td>❌</td><td>使用一个全局 CSS 文件更方便。使用常规的 <a href="/unocss-docs-cn/integrations/vite#svelte">Svelte</a>/<a href="/unocss-docs-cn/integrations/vite#sveltekit">SvelteKit</a> Vite 插件。</td><td><a href="/unocss-docs-cn/integrations/vite#svelte">unocss/vite</a></td></tr><tr><td>大型应用</td><td>✅</td><td>Svelte Scoped 可以帮助您避免不断增长的全局 CSS 文件。</td><td><a href="#vite-plugin">@unocss/svelte-scoped/vite</a></td></tr><tr><td>组件库</td><td>✅</td><td>生成的样式直接放置在构建的组件中，而不需要在使用 UnoCSS 的消费应用的构建流程中使用。</td><td><a href="#svelte-preprocessor">@unocss/svelte-scoped/preprocess</a></td></tr></tbody></table><h2 id="工作原理" tabindex="-1">工作原理 <a class="header-anchor" href="#工作原理" aria-label="Permalink to &quot;工作原理&quot;">​</a></h2><p>常规的 UnoCSS/Tailwind 设置将实用样式放在全局 CSS 文件中，并进行适当的排序。相比之下，Svelte Scoped 将样式分布在许多任意顺序的 Svelte 组件 CSS 文件中。但是，它必须保持实用样式的全局性，以便根据需要进行上下文感知，例如适用于从右到左的情况和其他下面列出的<a href="#context-aware">用例</a>。这带来了一个挑战，使用 Svelte 的 <code>:global()</code> 封装器来退出默认的 Svelte CSS 散列方法，而是使用基于文件名 + 类名的散列来编译唯一的类名，可以使其全局化而不会引起样式冲突。</p><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><p>由于 Svelte Scoped 会重写您的实用类名，因此您在何处编写它们受到限制：</p><table><thead><tr><th>支持的语法</th><th>示例</th></tr></thead><tbody><tr><td>类属性</td><td><code>&lt;div class=&quot;mb-1&quot; /&gt;</code></td></tr><tr><td>类指令</td><td><code>&lt;div class:mb-1={condition} /&gt;</code></td></tr><tr><td>类指令缩写</td><td><code>&lt;div class:logo /&gt;</code></td></tr><tr><td>类 prop</td><td><code>&lt;Button class=&quot;mb-1&quot; /&gt;</code></td></tr></tbody></table><p>Svelte Scoped 被设计为用于使用实用样式的项目的即插即用替代方案。因此，类属性中的表达式也受支持（例如 <code>&lt;div class=&quot;mb-1 {foo ? &#39;mr-1&#39; : &#39;mr-2&#39;}&quot; /&gt;</code>），但我们建议您将来使用类指令语法。此外，如果您以其他方式使用类名，比如将它们放在 <code>&lt;script&gt;</code> 块中或使用 attributify 模式，那么在使用 Svelte Scoped 之前，您需要采取额外的步骤。您可以使用 <code>safelist</code> 选项，并在下面的<a href="#预设支持">预设支持</a>部分中查看更多提示。</p><h3 id="上下文感知" tabindex="-1">上下文感知 <a class="header-anchor" href="#上下文感知" aria-label="Permalink to &quot;上下文感知&quot;">​</a></h3><p>尽管样式分布在您应用的 Svelte 组件中，但它们仍然是全局类，并将与其特定组件之外的元素的关系一起工作。以下是一些示例：</p><h4 id="依赖于父元素" tabindex="-1">依赖于父元素 <a class="header-anchor" href="#依赖于父元素" aria-label="Permalink to &quot;依赖于父元素&quot;">​</a></h4><p>依赖于父组件中的属性的类：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">dark:mb-2 rtl:right-0</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">dark:mb-2 rtl:right-0</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>转换为：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">uno-3hashz</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  :global(</span><span style="color:#666666;">.</span><span style="color:#BD976A;">dark</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">.</span><span style="color:#BD976A;">uno-3hashz</span><span style="color:#DBD7CAEE;">) </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin-bottom</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  :global(</span><span style="color:#666666;">[</span><span style="color:#BD976A;">dir</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">rtl</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">.</span><span style="color:#BD976A;">uno-3hashz</span><span style="color:#DBD7CAEE;">) </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">right</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">uno-3hashz</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  :global(</span><span style="color:#999999;">.</span><span style="color:#B07D48;">dark</span><span style="color:#393A34;"> </span><span style="color:#999999;">.</span><span style="color:#B07D48;">uno-3hashz</span><span style="color:#393A34;">) </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin-bottom</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">  :global(</span><span style="color:#999999;">[</span><span style="color:#B07D48;">dir</span><span style="color:#AB5959;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">rtl</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span><span style="color:#393A34;"> </span><span style="color:#999999;">.</span><span style="color:#B07D48;">uno-3hashz</span><span style="color:#393A34;">) </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">right</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span></code></pre></div><h4 id="影响子元素" tabindex="-1">影响子元素 <a class="header-anchor" href="#影响子元素" aria-label="Permalink to &quot;影响子元素&quot;">​</a></h4><p>您可以在三个子元素之间添加间隔，其中一些子元素位于单独的组件中：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">space-x-1</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Status: online</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">FAQ</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Login</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">space-x-1</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Status: online</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">FAQ</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Login</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>转换为：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">uno-7haszz</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Status: online</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">FAQ</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Login</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  :global(</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uno-7haszz</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#BD976A;">not</span><span style="color:#666666;">([</span><span style="color:#BD976A;">hidden</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">~</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">:</span><span style="color:#BD976A;">not</span><span style="color:#666666;">([</span><span style="color:#BD976A;">hidden</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;">) </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">--un-space-x-reverse</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin-left</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">calc</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">calc</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">1</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">-</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">var</span><span style="color:#666666;">(</span><span style="color:#BD976A;">--un-space-x-reverse</span><span style="color:#666666;">)));</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin-right</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">calc</span><span style="color:#666666;">(</span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">var</span><span style="color:#666666;">(</span><span style="color:#BD976A;">--un-space-x-reverse</span><span style="color:#666666;">));</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">uno-7haszz</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Status: online</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">FAQ</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Login</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  :global(</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uno-7haszz</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#B07D48;">not</span><span style="color:#999999;">([</span><span style="color:#B07D48;">hidden</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">~</span><span style="color:#393A34;"> </span><span style="color:#999999;">:</span><span style="color:#B07D48;">not</span><span style="color:#999999;">([</span><span style="color:#B07D48;">hidden</span><span style="color:#999999;">])</span><span style="color:#393A34;">) </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">--un-space-x-reverse</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin-left</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#998418;">calc</span><span style="color:#999999;">(</span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#998418;">calc</span><span style="color:#999999;">(</span><span style="color:#2F798A;">1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#998418;">var</span><span style="color:#999999;">(</span><span style="color:#B07D48;">--un-space-x-reverse</span><span style="color:#999999;">)));</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin-right</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#998418;">calc</span><span style="color:#999999;">(</span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#998418;">var</span><span style="color:#999999;">(</span><span style="color:#B07D48;">--un-space-x-reverse</span><span style="color:#999999;">));</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span></code></pre></div><h4 id="将类传递给子组件" tabindex="-1">将类传递给子组件 <a class="header-anchor" href="#将类传递给子组件" aria-label="Permalink to &quot;将类传递给子组件&quot;">​</a></h4><p>您可以为组件添加一个 <code>class</code> prop，以允许在任何使用该组件的地方传递自定义类。</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">Button</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">px-2 py-1</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Login</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#998418;">Button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">px-2 py-1</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Login</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>转换为：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#B8A965;">Button</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">uno-4hshza</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Login</span><span style="color:#666666;">&lt;/</span><span style="color:#B8A965;">Button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  :global(</span><span style="color:#666666;">.</span><span style="color:#BD976A;">uno-4hshza</span><span style="color:#DBD7CAEE;">) </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">padding-left</span><span style="color:#666666;">:</span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">padding-right</span><span style="color:#666666;">:</span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">padding-top</span><span style="color:#666666;">:</span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">padding-bottom</span><span style="color:#666666;">:</span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#998418;">Button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">uno-4hshza</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Login</span><span style="color:#999999;">&lt;/</span><span style="color:#998418;">Button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  :global(</span><span style="color:#999999;">.</span><span style="color:#B07D48;">uno-4hshza</span><span style="color:#393A34;">) </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">padding-left</span><span style="color:#999999;">:</span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">padding-right</span><span style="color:#999999;">:</span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">padding-top</span><span style="color:#999999;">:</span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">padding-bottom</span><span style="color:#999999;">:</span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>在接收组件中实现类的简单方法是使用 <code>{$$props.class}</code> 将它们放在元素上，例如 <code>div class=&quot;{$$props.class} foo bar&quot; /&gt;</code>。</p><h3 id="应用指令" tabindex="-1">应用指令 <a class="header-anchor" href="#应用指令" aria-label="Permalink to &quot;应用指令&quot;">​</a></h3><p>您可以在 <code>&lt;style&gt;</code> 块中使用应用指令，可以使用 <code>--at-apply</code>、<code>@apply</code> 或使用 <code>applyVariables</code> 选项设置的自定义值。</p><p>Svelte Scoped</p><p>甚至可以正确处理上下文相关的类，比如正常的 <a href="/unocss-docs-cn/transformers/directives"><code>@unocss/transformer-directives</code></a> 包无法正确处理的 <code>dark:text-white</code>，因为它并不是专为 Svelte 样式块构建的。例如，使用 Svelte Scoped，这个组件：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#BD976A;">--at-apply</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">rtl</span><span style="color:#DBD7CAEE;">:ml-2</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B07D48;">--at-apply</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">rtl</span><span style="color:#393A34;">:ml-2</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>将被转换为：</p><div class="language-svelte"><button title="Copy Code" class="copy"></button><span class="lang">svelte</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  :global(</span><span style="color:#666666;">[</span><span style="color:#BD976A;">dir</span><span style="color:#CB7676;">=</span><span style="color:#C99076;">\\\\</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">rtl</span><span style="color:#C99076;">\\\\</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">]</span><span style="color:#DBD7CAEE;">) </span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">margin-right</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">style</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  :global(</span><span style="color:#999999;">[</span><span style="color:#B07D48;">dir</span><span style="color:#AB5959;">=</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">rtl</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">]</span><span style="color:#393A34;">) </span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#998418;">margin-right</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">style</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>为了使 <code>rtl:ml-2</code> 正常工作，<code>[dir=&quot;rtl&quot;]</code> 选择器被封装在 <code>:global()</code> 中，以防止 Svelte 编译器自动剥离它，因为组件没有具有该属性的元素。然而，<code>div</code> 不能包含在 <code>:global()</code> 封装器中，因为这样的样式将会影响到应用中的每个 <code>div</code>。</p><h3 id="其他样式块指令" tabindex="-1">其他样式块指令 <a class="header-anchor" href="#其他样式块指令" aria-label="Permalink to &quot;其他样式块指令&quot;">​</a></h3><p>使用 <a href="https://unocss.dev/transformers/directives#theme" target="_blank" rel="noreferrer">theme()</a> 也受支持，但 <a href="https://unocss.dev/transformers/directives#screen" target="_blank" rel="noreferrer">@screen</a> <strong>不受支持</strong>。</p><h2 id="vite-插件" tabindex="-1">Vite 插件 <a class="header-anchor" href="#vite-插件" aria-label="Permalink to &quot;Vite 插件&quot;">​</a></h2><p>在 Svelte 或 SvelteKit 应用中，将生成的样式直接注入到 Svelte 组件中，同时将最少必要的样式放在全局样式表中。在 Stackblitz 中查看 <a href="https://github.com/unocss/unocss/tree/main/examples/sveltekit-scoped" target="_blank" rel="noreferrer">SvelteKit 示例</a>：</p><p><a href="https://stackblitz.com/fork/github/unocss/unocss/tree/main/examples/sveltekit-scoped" target="_blank" rel="noreferrer"><img src="https://developer.stackblitz.com/img/open_in_stackblitz_small.svg" alt="在 StackBlitz 中打开"></a></p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-PqyWY" id="tab-bFpY-di" checked="checked"><label for="tab-bFpY-di">pnpm</label><input type="radio" name="group-PqyWY" id="tab-PIcGZGK"><label for="tab-PIcGZGK">yarn</label><input type="radio" name="group-PqyWY" id="tab-5RlY4pe"><label for="tab-5RlY4pe">npm</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">pnpm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">unocss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@unocss/svelte-scoped</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">pnpm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">add</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">unocss</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@unocss/svelte-scoped</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">yarn</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">unocss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@unocss/svelte-scoped</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">yarn</span><span style="color:#393A34;"> </span><span style="color:#B56959;">add</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">unocss</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@unocss/svelte-scoped</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">unocss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@unocss/svelte-scoped</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">npm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">install</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">unocss</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@unocss/svelte-scoped</span></span></code></pre></div></div></div><h4 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to &quot;添加插件&quot;">​</a></h4><p>在你的 Vite 配置中添加 <code>@unocss/svelte-scoped/vite</code>：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// vite.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">defineConfig</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">vite</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">sveltekit</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@sveltejs/kit/vite</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">UnoCSS</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@unocss/svelte-scoped/vite</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">plugins</span><span style="color:#666666;">: [</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#80A665;">UnoCSS</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// injectReset: &#39;@unocss/reset/normalize.css&#39;, // 参见类型定义以获取所有包含的重置选项或如何传递您自己的选项</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// ...其他 Svelte Scoped 选项</span></span>
<span class="line"><span style="color:#666666;">    }),</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#80A665;">sveltekit</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">  ]</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// vite.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineConfig</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">vite</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">sveltekit</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@sveltejs/kit/vite</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">UnoCSS</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@unocss/svelte-scoped/vite</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">plugins</span><span style="color:#999999;">: [</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">UnoCSS</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// injectReset: &#39;@unocss/reset/normalize.css&#39;, // 参见类型定义以获取所有包含的重置选项或如何传递您自己的选项</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// ...其他 Svelte Scoped 选项</span></span>
<span class="line"><span style="color:#999999;">    }),</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">sveltekit</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">  ]</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><h4 id="添加配置文件" tabindex="-1">添加配置文件 <a class="header-anchor" href="#添加配置文件" aria-label="Permalink to &quot;添加配置文件&quot;">​</a></h4><p>根据下面的描述设置你的 <code>uno.config.ts</code> 文件。</p><h4 id="全局样式" tabindex="-1">全局样式 <a class="header-anchor" href="#全局样式" aria-label="Permalink to &quot;全局样式&quot;">​</a></h4><p>尽管几乎所有的样式都放在各个组件中，但仍然有一些必须放在全局样式表中的样式：预设、白名单和一个可选的重置（如果您使用了 <code>injectReset</code> 选项）。</p><p>将 <code>%unocss-svelte-scoped.global%</code> 占位符添加到你的 <code>&lt;head&gt;</code> 标签中。在 Svelte 中，这是 <code>index.html</code>。在 SvelteKit 中，这将位于 <code>app.html</code> 中的 <code>%sveltekit.head%</code> 之前：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">head</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;">&lt;!-- ... --&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">title</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">SvelteKit 使用 UnoCSS Svelte Scoped</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">title</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  %unocss-svelte-scoped.global% %sveltekit.head%</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">head</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">head</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">&lt;!-- ... --&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">title</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">SvelteKit 使用 UnoCSS Svelte Scoped</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">title</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  %unocss-svelte-scoped.global% %sveltekit.head%</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">head</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>如果使用 SvelteKit，您还必须在 <code>hooks.server.js</code> 文件的 <code>transformPageChunk</code> 钩子中添加以下内容：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">/** </span><span style="color:#666666;">@</span><span style="color:#4D9375;">type</span><span style="color:#758575DD;"> </span><span style="color:#666666;">{</span><span style="color:#5DA994;">import(&#39;@sveltejs/kit&#39;).Handle</span><span style="color:#666666;">}</span><span style="color:#758575DD;"> */</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">async</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">handle</span><span style="color:#666666;">({</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">event</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">resolve</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#CB7676;">const</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">response</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">await</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">resolve</span><span style="color:#666666;">(</span><span style="color:#BD976A;">event</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#80A665;">transformPageChunk</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">({</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">html</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">})</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#BD976A;">html</span><span style="color:#666666;">.</span><span style="color:#80A665;">replace</span><span style="color:#666666;">(</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">%unocss-svelte-scoped.global%</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">        </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">unocss_svelte_scoped_global_styles</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">      </span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">})</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">response</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">/** </span><span style="color:#999999;">@</span><span style="color:#1E754F;">type</span><span style="color:#A0ADA0;"> </span><span style="color:#999999;">{</span><span style="color:#2E8F82;">import(&#39;@sveltejs/kit&#39;).Handle</span><span style="color:#999999;">}</span><span style="color:#A0ADA0;"> */</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">async</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">handle</span><span style="color:#999999;">({</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">event</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">resolve</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">const</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">response</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">await</span><span style="color:#393A34;"> </span><span style="color:#59873A;">resolve</span><span style="color:#999999;">(</span><span style="color:#B07D48;">event</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#59873A;">transformPageChunk</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">({</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">html</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#B07D48;">html</span><span style="color:#999999;">.</span><span style="color:#59873A;">replace</span><span style="color:#999999;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">%unocss-svelte-scoped.global%</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">unocss_svelte_scoped_global_styles</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1E754F;">return</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">response</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p><em>在常规的 Svelte 项目中，Vite 的 <code>transformIndexHtml</code> 钩子将自动执行此操作。</em></p><h2 id="svelte-预处理器" tabindex="-1">Svelte 预处理器 <a class="header-anchor" href="#svelte-预处理器" aria-label="Permalink to &quot;Svelte 预处理器&quot;">​</a></h2><p>通过使用预处理器将生成的样式直接放入构建的组件中，使用实用样式来构建一个不依赖于包含伴随 CSS 文件的组件库。在 Stackblitz 中查看 <a href="https://github.com/unocss/unocss/tree/main/examples/sveltekit-preprocess" target="_blank" rel="noreferrer">SvelteKit 组件库示例</a>：</p><p><a href="https://stackblitz.com/fork/github/unocss/unocss/tree/main/examples/sveltekit-preprocess" target="_blank" rel="noreferrer"><img src="https://developer.stackblitz.com/img/open_in_stackblitz_small.svg" alt="在 StackBlitz 中打开"></a></p><h3 id="安装-1" tabindex="-1">安装 <a class="header-anchor" href="#安装-1" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-QWo1D" id="tab-mgSdJaE" checked="checked"><label for="tab-mgSdJaE">pnpm</label><input type="radio" name="group-QWo1D" id="tab-XnIj15B"><label for="tab-XnIj15B">yarn</label><input type="radio" name="group-QWo1D" id="tab-x_D9LyM"><label for="tab-x_D9LyM">npm</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">pnpm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">unocss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@unocss/svelte-scoped</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">pnpm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">add</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">unocss</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@unocss/svelte-scoped</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">yarn</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">unocss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@unocss/svelte-scoped</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">yarn</span><span style="color:#393A34;"> </span><span style="color:#B56959;">add</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">unocss</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@unocss/svelte-scoped</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">npm</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C99076;">-D</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">unocss</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">@unocss/svelte-scoped</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">npm</span><span style="color:#393A34;"> </span><span style="color:#B56959;">install</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">-D</span><span style="color:#393A34;"> </span><span style="color:#B56959;">unocss</span><span style="color:#393A34;"> </span><span style="color:#B56959;">@unocss/svelte-scoped</span></span></code></pre></div></div></div><h4 id="添加预处理器" tabindex="-1">添加预处理器 <a class="header-anchor" href="#添加预处理器" aria-label="Permalink to &quot;添加预处理器&quot;">​</a></h4><p>在你的 Svelte 配置中添加 <code>@unocss/svelte-scoped/preprocess</code>：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// svelte.config.js</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">adapter</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@sveltejs/adapter-auto</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">vitePreprocess</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@sveltejs/kit/vite</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">UnoCSS</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@unocss/svelte-scoped/preprocess</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">const </span><span style="color:#BD976A;">config</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">preprocess</span><span style="color:#666666;">: [</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#80A665;">vitePreprocess</span><span style="color:#666666;">(),</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#80A665;">UnoCSS</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// ...预处理器选项</span></span>
<span class="line"><span style="color:#666666;">    })</span></span>
<span class="line"><span style="color:#666666;">  ]</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// 其他 Svelte 配置</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// svelte.config.js</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">adapter</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@sveltejs/adapter-auto</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">vitePreprocess</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@sveltejs/kit/vite</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">UnoCSS</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@unocss/svelte-scoped/preprocess</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">const </span><span style="color:#B07D48;">config</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">preprocess</span><span style="color:#999999;">: [</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">vitePreprocess</span><span style="color:#999999;">(),</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">UnoCSS</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// ...预处理器选项</span></span>
<span class="line"><span style="color:#999999;">    })</span></span>
<span class="line"><span style="color:#999999;">  ]</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// 其他 Svelte 配置</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><h4 id="在开发中不合并类名" tabindex="-1">在开发中不合并类名 <a class="header-anchor" href="#在开发中不合并类名" aria-label="Permalink to &quot;在开发中不合并类名&quot;">​</a></h4><p>在正常的应用中使用 Svelte Scoped，Vite 插件会自动检测 <code>dev</code> 和 <code>build</code>。在开发中，类将保持不同，并在浏览器的开发者工具中轻松切换开关。<code>class=&quot;mb-1 mr-1&quot;</code> 将变成类似于 <code>class=&quot;_mb-1_9hwi32 _mr-1_84jfy4&quot;</code>。在生产中，这些将被编译成单个类名，使用您所需的前缀，默认为 <code>uno-</code>，以及基于文件名 + 类名的哈希值，例如 <code>class=&quot;uno-84dke3&quot;</code>。</p><p>如果要在使用预处理器时获得相同的行为，您必须根据环境手动设置 <code>combine</code> 选项。一种方法是安装 <a href="https://www.npmjs.com/package/cross-env" target="_blank" rel="noreferrer">cross-env</a>，并将您的 dev 脚本更新为以下内容：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#dbd7caee;">&quot;dev&quot;: &quot;cross-env NODE_ENV=development vite dev&quot;,</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#393a34;">&quot;dev&quot;: &quot;cross-env NODE_ENV=development vite dev&quot;,</span></span></code></pre></div><p>然后调整你的 svelte.config.js：</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">+const prod = p<wbr>rocess.env.NODE_ENV !== &#39;development&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">const config = {</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  preprocess: [</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    vitePreprocess(),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    UnoCSS({</span></span>
<span class="line"><span style="color:#85E89D;">+      combine: prod,</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    }),</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  ],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#22863A;">+const prod = p<wbr>rocess.env.NODE_ENV !== &#39;development&#39;</span></span>
<span class="line"><span style="color:#393A34;">const config = {</span></span>
<span class="line"><span style="color:#393A34;">  preprocess: [</span></span>
<span class="line"><span style="color:#393A34;">    vitePreprocess(),</span></span>
<span class="line"><span style="color:#393A34;">    UnoCSS({</span></span>
<span class="line"><span style="color:#22863A;">+      combine: prod,</span></span>
<span class="line"><span style="color:#393A34;">    }),</span></span>
<span class="line"><span style="color:#393A34;">  ],</span></span>
<span class="line"><span style="color:#393A34;">}</span></span></code></pre></div><h4 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h4><p>将您的 UnoCSS 设置添加到 <code>uno.config.ts</code> 文件中：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">defineConfig</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">unocss</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#758575DD;">// ...其他 UnoCSS 选项</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineConfig</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">unocss</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#A0ADA0;">// ...其他 UnoCSS 选项</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><p>由于正常的 UnoCSS 全局用法和 Svelte Scoped 用法之间的差异，不支持提取器。支持预设和转换器，如以下部分所述。有关所有其他详细信息，请参阅<a href="/unocss-docs-cn/guide/config-file">配置文件</a> 和<a href="/unocss-docs-cn/config/">配置参考</a>。</p><h3 id="预设支持" tabindex="-1">预设支持 <a class="header-anchor" href="#预设支持" aria-label="Permalink to &quot;预设支持&quot;">​</a></h3><p>由于全局样式表中有一些必要的全局样式，而其他样式都包含在各个组件中，所以需要根据情况处理预设：</p><table><thead><tr><th>预设</th><th style="text-align:left;">是否支持</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td><a href="https://unocss.dev/presets/uno" target="_blank" rel="noreferrer">@unocss/preset-uno</a>、<a href="https://unocss.dev/presets/mini" target="_blank" rel="noreferrer">@unocss/preset-mini</a>、<a href="https://unocss.dev/presets/wind" target="_blank" rel="noreferrer">@unocss/preset-wind</a>、<a href="https://github.com/unocss/unocss/tree/main/packages/preset-icons" target="_blank" rel="noreferrer">@unocss/preset-icons</a>、<a href="https://github.com/unocss/unocss/tree/main/packages/preset-icons" target="_blank" rel="noreferrer">@unocss/web-fonts</a></td><td style="text-align:left;">✅</td><td style="text-align:left;">所有这些预设以及社区插件，例如 <a href="https://github.com/Julien-R44/unocss-preset-forms" target="_blank" rel="noreferrer">unocss-preset-forms</a>，只依赖于规则/变体/预设的都可以工作。</td></tr><tr><td><a href="https://github.com/unocss/unocss/tree/main/packages/preset-typography" target="_blank" rel="noreferrer">@unocss/preset-typography</a></td><td style="text-align:left;">✅</td><td style="text-align:left;">由于此预设向预设的 preflight 中添加了规则集，使用此预设时必须将 <code>prose</code> 类添加到安全列表中，否则 preflight 将永远不会触发。此预设的所有其他类，例如 <code>prose-pink</code>，可以在组件范围内使用。</td></tr><tr><td><a href="https://github.com/unocss/unocss/tree/main/packages/preset-rem-to-px" target="_blank" rel="noreferrer">@unocss/preset-rem-to-px</a></td><td style="text-align:left;">✅</td><td style="text-align:left;">此类预设和其他类似的只修改样式输出的预设都可以工作。</td></tr><tr><td><a href="https://github.com/unocss/unocss/tree/main/packages/preset-attributify" target="_blank" rel="noreferrer">@unocss/preset-attributify</a></td><td style="text-align:left;">-</td><td style="text-align:left;">此预设不可用。可以使用 <a href="https://github.com/MellowCo/unplugin-attributify-to-class" target="_blank" rel="noreferrer">unplugin-attributify-to-class</a> Vite 插件 (<code>attributifyToClass({ include: [/\\.svelte$/]})</code>) 替代，放在 Svelte Scoped Vite 插件之前。</td></tr><tr><td><a href="https://github.com/unocss/unocss/tree/main/packages/preset-tagify" target="_blank" rel="noreferrer">@unocss/preset-tagify</a></td><td style="text-align:left;">-</td><td style="text-align:left;">添加自定义提取器的预设将无法工作。创建一个预处理器，将 <code>&lt;text-red&gt;Hi&lt;/text-red&gt;</code> 转换为 <code>&lt;span class=&quot;text-red&quot;&gt;Hi&lt;/span&gt;</code>，然后创建一个 PR 将链接添加到这里。</td></tr></tbody></table><p>对于其他预设，如果它们不依赖于传统的 <code>class=&quot;...&quot;</code> 用法，则需要首先将这些类名预处理成 <code>class=&quot;...&quot;</code> 属性。如果它们添加了像 typography 的 <code>.prose</code> 类这样的预设，那么您需要将触发预设添加的类放入安全列表中。</p><h3 id="转换器支持" tabindex="-1">转换器支持 <a class="header-anchor" href="#转换器支持" aria-label="Permalink to &quot;转换器支持&quot;">​</a></h3><p>转换器支持对 CSS 文件（css|postcss|sass|scss|less|stylus|styl）进行处理。要使用它们，在您的 <code>vite.config.ts</code> 中的 <code>cssFileTransformers</code> 选项中添加转换器：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// vite.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">transformerDirectives</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">@unocss/transformer-directives</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">plugins</span><span style="color:#666666;">: [</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#80A665;">UnoCSS</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#B8A965;">cssFileTransformers</span><span style="color:#666666;">: [</span><span style="color:#80A665;">transformerDirectives</span><span style="color:#666666;">()]</span></span>
<span class="line"><span style="color:#666666;">    }),</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#80A665;">sveltekit</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">  ]</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// vite.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">transformerDirectives</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">@unocss/transformer-directives</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">plugins</span><span style="color:#999999;">: [</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">UnoCSS</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#998418;">cssFileTransformers</span><span style="color:#999999;">: [</span><span style="color:#59873A;">transformerDirectives</span><span style="color:#999999;">()]</span></span>
<span class="line"><span style="color:#999999;">    }),</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#59873A;">sveltekit</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">  ]</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>由于 Svelte Scoped 的工作方式，不支持在 Svelte 组件中使用转换器。</p></div><h2 id="作用域化实用类释放创意" tabindex="-1">作用域化实用类释放创意 <a class="header-anchor" href="#作用域化实用类释放创意" aria-label="Permalink to &quot;作用域化实用类释放创意&quot;">​</a></h2><p>以下是何时可能需要使用作用域化样式的建议：如果在大型项目的生命周期中，每当您使用类似 <code>.md:max-w-[50vw]</code> 这样的类，您知道它只会被使用一次，您会因全局样式表的大小不断增加而感到不安，那么可以尝试使用这个包。对于您需要使用准确类名的犹豫会抑制创意。当然，您可以在样式块中使用 <code>--at-apply: md:max-w-[50vw]</code>，但这会变得繁琐，上下文中的样式很有用。此外，如果您想在项目中包含各种各样的图标，您将开始感受到将它们添加到全局样式表中的负担。当每个组件承载其自身的样式和图标时，您可以继续扩展项目，而无需分析每个新添加的元素的成本效益。</p><h2 id="许可" tabindex="-1">许可 <a class="header-anchor" href="#许可" aria-label="Permalink to &quot;许可&quot;">​</a></h2><ul><li>MIT 许可证 © 2022-PRESENT <a href="https://github.com/jacob-8" target="_blank" rel="noreferrer">Jacob Bowdoin</a></li></ul>`,89),e=[o];function t(c,r,y,i,d,A){return a(),n("div",null,e)}const E=s(p,[["render",t]]);export{B as __pageData,E as default};
