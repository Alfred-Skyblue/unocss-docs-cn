import{_ as s,o as n,c as a,O as p}from"./chunks/framework.315261e6.js";const B=JSON.parse('{"title":"提取内容","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/extracting.md","lastUpdated":1715697647000}'),l={name:"guide/extracting.md"},o=p(`<h1 id="提取内容" tabindex="-1">提取内容 <a class="header-anchor" href="#提取内容" aria-label="Permalink to &quot;提取内容&quot;">​</a></h1><p>UnoCSS 的工作原理是从代码库中搜索实用程序的用法，并根据需要生成相应的 CSS。我们称这个过程为<strong>提取</strong>。</p><h2 id="内容来源" tabindex="-1">内容来源 <a class="header-anchor" href="#内容来源" aria-label="Permalink to &quot;内容来源&quot;">​</a></h2><p>UnoCSS 支持从多个来源提取实用程序的用法：</p><ul><li><a href="#从构建工具流水线中提取">流水线</a> - 直接从构建工具流水线中提取</li><li><a href="#从文件系统中提取">文件系统</a> - 通过读取和监视文件从文件系统中提取</li><li><a href="#从内联文本中提取">内联</a> - 从内联纯文本中提取</li></ul><p>来自不同来源的实用程序用法将合并在一起，并生成最终的 CSS。</p><h3 id="从构建工具流水线中提取" tabindex="-1">从构建工具流水线中提取 <a class="header-anchor" href="#从构建工具流水线中提取" aria-label="Permalink to &quot;从构建工具流水线中提取&quot;">​</a></h3><p>这在<a href="/unocss-docs-cn/integrations/vite">Vite</a>和<a href="/unocss-docs-cn/integrations/webpack">Webpack</a>集成中得到支持。</p><p>UnoCSS 将读取通过构建工具流水线的内容，并从中提取实用程序的用法。这是最高效和准确的提取方式，因为我们只会智能地提取实际在您的应用中使用的用法，提取过程中不会进行额外的文件 IO 操作。</p><p>默认情况下，UnoCSS 将从构建流水线中的具有扩展名 <code>.jsx</code>、<code>.tsx</code>、<code>.vue</code>、<code>.md</code>、<code>.html</code>、<code>.svelte</code>、<code>.astro</code> 的文件中提取实用程序用法，但不会包括 <code>.js</code> 和 <code>.ts</code> 文件。</p><p>要配置它们，您可以更新您的 <code>uno.config.ts</code> 文件：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">content</span><span style="color:#666666;">: {</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">pipeline</span><span style="color:#666666;">: {</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#B8A965;">include</span><span style="color:#666666;">: [</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// 默认配置</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#C98A7D99;">/</span><span style="color:#E6CC77;">\\.</span><span style="color:#666666;">(</span><span style="color:#C4704F;">vue</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">svelte</span><span style="color:#CB7676;">|</span><span style="color:#666666;">[</span><span style="color:#C99076;">jt</span><span style="color:#666666;">]</span><span style="color:#C4704F;">sx</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">mdx</span><span style="color:#CB7676;">?|</span><span style="color:#C4704F;">astro</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">elm</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">php</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">phtml</span><span style="color:#CB7676;">|</span><span style="color:#C4704F;">html</span><span style="color:#666666;">)(</span><span style="color:#4D9375;">$</span><span style="color:#CB7676;">|</span><span style="color:#E6CC77;">\\?</span><span style="color:#666666;">)</span><span style="color:#C98A7D99;">/</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#758575DD;">// 包括 js/ts 文件</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">src/**/*.{js,ts}</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">      ]</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// 排除文件</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// exclude: []</span></span>
<span class="line"><span style="color:#666666;">    }</span></span>
<span class="line"><span style="color:#666666;">  }</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">content</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">pipeline</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#998418;">include</span><span style="color:#999999;">: [</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 默认配置</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#B5695999;">/</span><span style="color:#BDA437;">\\.</span><span style="color:#999999;">(</span><span style="color:#AB5E3F;">vue</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">svelte</span><span style="color:#AB5959;">|</span><span style="color:#999999;">[</span><span style="color:#A65E2B;">jt</span><span style="color:#999999;">]</span><span style="color:#AB5E3F;">sx</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">mdx</span><span style="color:#AB5959;">?|</span><span style="color:#AB5E3F;">astro</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">elm</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">php</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">phtml</span><span style="color:#AB5959;">|</span><span style="color:#AB5E3F;">html</span><span style="color:#999999;">)(</span><span style="color:#1E754F;">$</span><span style="color:#AB5959;">|</span><span style="color:#BDA437;">\\?</span><span style="color:#999999;">)</span><span style="color:#B5695999;">/</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#A0ADA0;">// 包括 js/ts 文件</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">src/**/*.{js,ts}</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">      ]</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 排除文件</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// exclude: []</span></span>
<span class="line"><span style="color:#999999;">    }</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><p>您还可以在文件中的任何位置添加 <code>@unocss-include</code> 魔术注释，以告诉 UnoCSS 扫描该文件，或者在配置中添加 <code>*.js</code> 或 <code>*.ts</code>，以将所有 js/ts 文件包含为扫描目标。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// ./some-utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">// 由于默认情况下不包括 \`.js\` 文件，</span></span>
<span class="line"><span style="color:#758575DD;">// 下面的注释告诉 UnoCSS 强制扫描此文件。</span></span>
<span class="line"><span style="color:#758575DD;">// @unocss-include</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#CB7676;"> const </span><span style="color:#BD976A;">classes</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">active</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">bg-primary text-white</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">inactive</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">bg-gray-200 text-gray-500</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// ./some-utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 由于默认情况下不包括 \`.js\` 文件，</span></span>
<span class="line"><span style="color:#A0ADA0;">// 下面的注释告诉 UnoCSS 强制扫描此文件。</span></span>
<span class="line"><span style="color:#A0ADA0;">// @unocss-include</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#AB5959;"> const </span><span style="color:#B07D48;">classes</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">active</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">bg-primary text-white</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">inactive</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">bg-gray-200 text-gray-500</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p>类似地，您还可以添加 <code>@unocss-ignore</code> 来绕过对文件的扫描和转换。</p><p>如果您希望 UnoCSS 跳过一段不需要提取的代码块，您可以使用成对的 <code>@unocss-skip-start</code> 和 <code>@unocss-skip-end</code>：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">text-green text-xl</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">绿色 大号</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- @unocss-skip-start --&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- \`text-red\` 将不会被提取 --&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">p</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">text-red</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">红色</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">p</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- @unocss-skip-end --&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text-green text-xl</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">绿色 大号</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- @unocss-skip-start --&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- \`text-red\` 将不会被提取 --&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">p</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text-red</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">红色</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">p</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- @unocss-skip-end --&gt;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>您可以在任何提取文件中使用 <code>@unocss-skip-start</code> 和 <code>@unocss-skip-end</code> 魔术注释，必须<strong>成对</strong>使用才能生效。</p></div><h3 id="从文件系统中提取" tabindex="-1">从文件系统中提取 <a class="header-anchor" href="#从文件系统中提取" aria-label="Permalink to &quot;从文件系统中提取&quot;">​</a></h3><p>在一些情况下，您可能使用的集成无法访问构建工具流水线（例如 <a href="/unocss-docs-cn/integrations/postcss">PostCSS</a> 插件），或者您正在与后端框架集成，代码不会通过流水线处理，您可以手动指定要提取的文件。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">content</span><span style="color:#666666;">: {</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">filesystem</span><span style="color:#666666;">: [</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">src/**/*.php</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">, </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">public/*.html</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">]</span></span>
<span class="line"><span style="color:#666666;">  }</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">content</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">filesystem</span><span style="color:#999999;">: [</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">src/**/*.php</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">, </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">public/*.html</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">]</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><p>匹配的文件将直接从文件系统中读取，并在开发模式下监视更改。</p><h3 id="从内联文本中提取" tabindex="-1">从内联文本中提取 <a class="header-anchor" href="#从内联文本中提取" aria-label="Permalink to &quot;从内联文本中提取&quot;">​</a></h3><p>此外，您还可以从内联文本中提取实用程序的用法，这些文本可能来自其他地方。</p><p>您还可以传递一个异步函数来返回内容。但请注意，该函数在构建时只会被调用一次。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">content</span><span style="color:#666666;">: {</span></span>
<span class="line"><span style="color:#666666;">    </span><span style="color:#B8A965;">inline</span><span style="color:#666666;">: [</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// 纯文本</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">&lt;div class=&quot;p-4 text-red&quot;&gt;一些文本&lt;/div&gt;</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// 异步获取器</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#CB7676;">async</span><span style="color:#666666;"> () =&gt; {</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#CB7676;">const </span><span style="color:#BD976A;">response</span><span style="color:#CB7676;"> </span><span style="color:#666666;">=</span><span style="color:#CB7676;"> </span><span style="color:#4D9375;">await</span><span style="color:#CB7676;"> </span><span style="color:#80A665;">fetch</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">https://example.com</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#4D9375;">return</span><span style="color:#666666;"> </span><span style="color:#BD976A;">response</span><span style="color:#666666;">.</span><span style="color:#80A665;">text</span><span style="color:#666666;">()</span></span>
<span class="line"><span style="color:#666666;">      }</span></span>
<span class="line"><span style="color:#666666;">    ]</span></span>
<span class="line"><span style="color:#666666;">  }</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">content</span><span style="color:#999999;">: {</span></span>
<span class="line"><span style="color:#999999;">    </span><span style="color:#998418;">inline</span><span style="color:#999999;">: [</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 纯文本</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">&lt;div class=&quot;p-4 text-red&quot;&gt;一些文本&lt;/div&gt;</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 异步获取器</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#AB5959;">async</span><span style="color:#999999;"> () =&gt; {</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">response</span><span style="color:#AB5959;"> </span><span style="color:#999999;">=</span><span style="color:#AB5959;"> </span><span style="color:#1E754F;">await</span><span style="color:#AB5959;"> </span><span style="color:#59873A;">fetch</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">https://example.com</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#1E754F;">return</span><span style="color:#999999;"> </span><span style="color:#B07D48;">response</span><span style="color:#999999;">.</span><span style="color:#59873A;">text</span><span style="color:#999999;">()</span></span>
<span class="line"><span style="color:#999999;">      }</span></span>
<span class="line"><span style="color:#999999;">    ]</span></span>
<span class="line"><span style="color:#999999;">  }</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><h2 id="限制" tabindex="-1">限制 <a class="header-anchor" href="#限制" aria-label="Permalink to &quot;限制&quot;">​</a></h2><p>由于 UnoCSS 是在<strong>构建时</strong>工作，这意味着只会生成和发送静态呈现的实用程序到您的应用程序。动态使用或在运行时从外部资源获取的实用程序可能<strong>不会</strong>被应用。</p><h3 id="白名单" tabindex="-1">白名单 <a class="header-anchor" href="#白名单" aria-label="Permalink to &quot;白名单&quot;">​</a></h3><p>有时您可能想要使用动态的拼接，例如：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">p-\${size}</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- 这不起作用！ --&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">p-\${size}</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- 这不起作用！ --&gt;</span></span></code></pre></div><p>由于 UnoCSS 在构建时使用静态提取，编译时我们无法知道所有实用程序的组合情况。为此，您可以配置 <code>safelist</code> 选项。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#80A665;">safelist</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p-1 p-2 p-3 p-4</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">.</span><span style="color:#80A665;">split</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#59873A;">safelist</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p-1 p-2 p-3 p-4</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">.</span><span style="color:#59873A;">split</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span></code></pre></div><p>将始终生成相应的 CSS：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-1</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-2</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-3</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.75</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-4</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-1</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-2</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-3</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.75</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-4</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p>或者更灵活一些：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#80A665;">safelist</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[...</span><span style="color:#BD976A;">Array</span><span style="color:#666666;">.</span><span style="color:#80A665;">from</span><span style="color:#666666;">({ </span><span style="color:#B8A965;">length</span><span style="color:#666666;">: </span><span style="color:#4C9A91;">4</span><span style="color:#666666;"> },</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">_</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">i</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">\`</span><span style="color:#C98A7D;">p-</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">i </span><span style="color:#CB7676;">+</span><span style="color:#C98A7D;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">}</span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">)]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#59873A;">safelist</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[...</span><span style="color:#B07D48;">Array</span><span style="color:#999999;">.</span><span style="color:#59873A;">from</span><span style="color:#999999;">({ </span><span style="color:#998418;">length</span><span style="color:#999999;">: </span><span style="color:#2F798A;">4</span><span style="color:#999999;"> },</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">_</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">i</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">\`</span><span style="color:#B56959;">p-</span><span style="color:#999999;">\${</span><span style="color:#B56959;">i </span><span style="color:#AB5959;">+</span><span style="color:#B56959;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">}</span><span style="color:#B5695999;">\`</span><span style="color:#999999;">)]</span></span></code></pre></div><p>如果您寻求在运行时进行真正的动态生成，请查看 [@unocss</p><p>/runtime](<a href="https://github.com/unocss/unocss/tree/main/packages/runtime" target="_blank" rel="noreferrer">https://github.com/unocss/unocss/tree/main/packages/runtime</a>) 包。</p><h3 id="黑名单" tabindex="-1">黑名单 <a class="header-anchor" href="#黑名单" aria-label="Permalink to &quot;黑名单&quot;">​</a></h3><p>与 <code>safelist</code> 类似，您还可以配置 <code>blocklist</code> 来排除某些实用程序的生成。与 <code>safelist</code> 不同，<code>blocklist</code> 同时接受字符串进行精确匹配和正则表达式进行模式匹配。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#80A665;">blocklist</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p-1</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#C4704F;"> </span><span style="color:#C98A7D99;">/</span><span style="color:#4D9375;">^</span><span style="color:#C4704F;">p-</span><span style="color:#666666;">[</span><span style="color:#C99076;">2-4</span><span style="color:#666666;">]</span><span style="color:#4D9375;">$</span><span style="color:#C98A7D99;">/</span><span style="color:#666666;">]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#59873A;">blocklist</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p-1</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#AB5E3F;"> </span><span style="color:#B5695999;">/</span><span style="color:#1E754F;">^</span><span style="color:#AB5E3F;">p-</span><span style="color:#999999;">[</span><span style="color:#A65E2B;">2-4</span><span style="color:#999999;">]</span><span style="color:#1E754F;">$</span><span style="color:#B5695999;">/</span><span style="color:#999999;">]</span></span></code></pre></div><p>这将排除 <code>p-1</code> 和 <code>p-2</code>、<code>p-3</code>、<code>p-4</code> 的生成。有助于排除一些误报信息。</p>`,43),e=[o];function c(t,r,y,i,A,d){return n(),a("div",null,e)}const C=s(l,[["render",c]]);export{B as __pageData,C as default};
