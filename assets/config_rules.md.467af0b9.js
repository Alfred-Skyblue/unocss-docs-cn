import{_ as s,o as n,c as a,N as l}from"./chunks/framework.fcd62fc8.js";const C=JSON.parse('{"title":"Rules","description":"Writing custom rules for UnoCSS is super easy.","frontmatter":{"title":"Rules","description":"Writing custom rules for UnoCSS is super easy."},"headers":[],"relativePath":"config/rules.md","lastUpdated":1681913039000}'),p={name:"config/rules.md"},o=l(`<h1 id="规则" tabindex="-1">规则 <a class="header-anchor" href="#规则" aria-label="Permalink to &quot;规则&quot;">​</a></h1><p>规则定义了 UnoCSS 在代码库中查找和生成 CSS 的方式。</p><h2 id="静态规则" tabindex="-1">静态规则 <a class="header-anchor" href="#静态规则" aria-label="Permalink to &quot;静态规则&quot;">​</a></h2><p>使用以下示例：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">rules</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">m-1</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{ </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">0.25rem</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;"> }],</span></span>
<span class="line"><span style="color:#666666;">]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">rules</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">m-1</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">{ </span><span style="color:#998418;">margin</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">0.25rem</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;"> }],</span></span>
<span class="line"><span style="color:#999999;">]</span></span></code></pre></div><p>无论何时在用户的代码库中检测到 <code>m-1</code>，将生成以下 CSS：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">m-1</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">m-1</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span></code></pre></div><h2 id="动态规则" tabindex="-1">动态规则 <a class="header-anchor" href="#动态规则" aria-label="Permalink to &quot;动态规则&quot;">​</a></h2><p>为了使它更智能，将匹配器更改为正则表达式，将正文更改为函数：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#80A665;">rules</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">/</span><span style="color:#4D9375;">^</span><span style="color:#C4704F;">m-</span><span style="color:#666666;">(</span><span style="color:#C99076;">\\d</span><span style="color:#CB7676;">+</span><span style="color:#666666;">)</span><span style="color:#4D9375;">$</span><span style="color:#C98A7D99;">/</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">([,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">d</span><span style="color:#666666;">])</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">({ </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">d </span><span style="color:#CB7676;">/</span><span style="color:#C98A7D;"> </span><span style="color:#4C9A91;">4</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">rem</span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;"> })],</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">/</span><span style="color:#4D9375;">^</span><span style="color:#C4704F;">p-</span><span style="color:#666666;">(</span><span style="color:#C99076;">\\d</span><span style="color:#CB7676;">+</span><span style="color:#666666;">)</span><span style="color:#4D9375;">$</span><span style="color:#C98A7D99;">/</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">match</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">({ </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">match</span><span style="color:#666666;">[</span><span style="color:#4C9A91;">1</span><span style="color:#666666;">]</span><span style="color:#C98A7D;"> </span><span style="color:#CB7676;">/</span><span style="color:#C98A7D;"> </span><span style="color:#4C9A91;">4</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">rem</span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;"> })],</span></span>
<span class="line"><span style="color:#666666;">]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#59873A;">rules</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">[</span><span style="color:#B5695999;">/</span><span style="color:#1E754F;">^</span><span style="color:#AB5E3F;">m-</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">\\d</span><span style="color:#AB5959;">+</span><span style="color:#999999;">)</span><span style="color:#1E754F;">$</span><span style="color:#B5695999;">/</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">([,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">d</span><span style="color:#999999;">])</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">({ </span><span style="color:#998418;">margin</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">\${</span><span style="color:#B56959;">d </span><span style="color:#AB5959;">/</span><span style="color:#B56959;"> </span><span style="color:#2F798A;">4</span><span style="color:#999999;">}</span><span style="color:#B56959;">rem</span><span style="color:#B5695999;">\`</span><span style="color:#999999;"> })],</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">[</span><span style="color:#B5695999;">/</span><span style="color:#1E754F;">^</span><span style="color:#AB5E3F;">p-</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">\\d</span><span style="color:#AB5959;">+</span><span style="color:#999999;">)</span><span style="color:#1E754F;">$</span><span style="color:#B5695999;">/</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">match</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">({ </span><span style="color:#998418;">padding</span><span style="color:#999999;">: </span><span style="color:#B5695999;">\`</span><span style="color:#999999;">\${</span><span style="color:#B56959;">match</span><span style="color:#999999;">[</span><span style="color:#2F798A;">1</span><span style="color:#999999;">]</span><span style="color:#B56959;"> </span><span style="color:#AB5959;">/</span><span style="color:#B56959;"> </span><span style="color:#2F798A;">4</span><span style="color:#999999;">}</span><span style="color:#B56959;">rem</span><span style="color:#B5695999;">\`</span><span style="color:#999999;"> })],</span></span>
<span class="line"><span style="color:#999999;">]</span></span></code></pre></div><p>函数体的第一个参数是匹配结果，你可以解构它以获取匹配的组。</p><p>例如，使用以下用法：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">m-100</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">button</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">m-3</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#666666;">&lt;</span><span style="color:#FDAEB7;">icon</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">p-5</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    My Button</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">button</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">m-100</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">button</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">m-3</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#999999;">&lt;</span><span style="color:#B31D28;">icon</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">p-5</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">    My Button</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">button</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span></code></pre></div><p>将生成相应的 CSS：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">m-100</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">m-3</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.75</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-5</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">m-100</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">m-3</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.75</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-5</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span></code></pre></div><p>恭喜！现在你拥有了自己的强大的原子 CSS 实用工具，尽情享用吧！</p><h2 id="完全控制的规则" tabindex="-1">完全控制的规则 <a class="header-anchor" href="#完全控制的规则" aria-label="Permalink to &quot;完全控制的规则&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>这是一个高级功能，在大多数情况下不需要它。</p></div><p>当你确实需要一些无法由<a href="#动态规则">动态规则</a>和<a href="#custom-variants">自定义变体</a>的组合涵盖的高级规则时，我们也提供了一种方式，为你提供完全控制生成 CSS 的方式。</p><p>从动态规则的函数体中返回一个字符串，它将直接传递给生成的 CSS。这也意味着你需要注意诸如 CSS 转义、变体应用、CSS 构造等问题。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">defineConfig</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">toEscapedSelector</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">as</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">e</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">unocss</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4D9375;">default</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">defineConfig</span><span style="color:#666666;">({</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">rules</span><span style="color:#666666;">: [</span></span>
<span class="line"><span style="color:#666666;">    [</span><span style="color:#C98A7D99;">/</span><span style="color:#4D9375;">^</span><span style="color:#C4704F;">custom-</span><span style="color:#666666;">(</span><span style="color:#C99076;">.</span><span style="color:#CB7676;">+</span><span style="color:#666666;">)</span><span style="color:#4D9375;">$</span><span style="color:#C98A7D99;">/</span><span style="color:#666666;">, ([, </span><span style="color:#BD976A;">name</span><span style="color:#666666;">], { </span><span style="color:#BD976A;">rawSelector</span><span style="color:#666666;">, </span><span style="color:#BD976A;">currentSelector</span><span style="color:#666666;">, </span><span style="color:#BD976A;">variantHandlers</span><span style="color:#666666;">, </span><span style="color:#BD976A;">theme</span><span style="color:#666666;"> }) =&gt; {</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// 丢弃不匹配的规则</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#4D9375;">if</span><span style="color:#666666;"> (</span><span style="color:#BD976A;">name</span><span style="color:#666666;">.</span><span style="color:#80A665;">includes</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">something</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">))</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#4D9375;">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// 如果你想的话，可以禁用这个规则的变体</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#4D9375;">if</span><span style="color:#666666;"> (</span><span style="color:#BD976A;">variantHandlers</span><span style="color:#666666;">.</span><span style="color:#B8A965;">length</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#666666;">        </span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#CB7676;">const </span><span style="color:#BD976A;">selector</span><span style="color:#CB7676;"> = </span><span style="color:#80A665;">e</span><span style="color:#666666;">(</span><span style="color:#BD976A;">rawSelector</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#758575DD;">// 返回一个字符串而不是对象</span></span>
<span class="line"><span style="color:#666666;">      </span><span style="color:#4D9375;">return</span><span style="color:#666666;"> </span><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#666666;">\${</span><span style="color:#C98A7D;">selector</span><span style="color:#666666;">}</span><span style="color:#C98A7D;"> {</span></span>
<span class="line"><span style="color:#C98A7D;">  font-size: </span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">theme</span><span style="color:#666666;">.</span><span style="color:#C98A7D;">fontSize</span><span style="color:#666666;">.</span><span style="color:#C98A7D;">sm</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">;</span></span>
<span class="line"><span style="color:#C98A7D;">}</span></span>
<span class="line"><span style="color:#C98A7D;">/* 你可以有多条规则 */</span></span>
<span class="line"><span style="color:#666666;">\${</span><span style="color:#C98A7D;">selector</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">::after {</span></span>
<span class="line"><span style="color:#C98A7D;">  content: &#39;after&#39;;</span></span>
<span class="line"><span style="color:#C98A7D;">}</span></span>
<span class="line"><span style="color:#C98A7D;">.foo &gt; </span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">selector</span><span style="color:#666666;">}</span><span style="color:#C98A7D;"> {</span></span>
<span class="line"><span style="color:#C98A7D;">  color: red;</span></span>
<span class="line"><span style="color:#C98A7D;">}</span></span>
<span class="line"><span style="color:#C98A7D;">/* 或媒体查询 */</span></span>
<span class="line"><span style="color:#C98A7D;">@media (min-width: </span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">theme</span><span style="color:#666666;">.</span><span style="color:#C98A7D;">breakpoints</span><span style="color:#666666;">.</span><span style="color:#C98A7D;">sm</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">) {</span></span>
<span class="line"><span style="color:#C98A7D;">  </span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">selector</span><span style="color:#666666;">}</span><span style="color:#C98A7D;"> {</span></span>
<span class="line"><span style="color:#C98A7D;">    font-size: </span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">theme</span><span style="color:#666666;">.</span><span style="color:#C98A7D;">fontSize</span><span style="color:#666666;">.</span><span style="color:#C98A7D;">sm</span><span style="color:#666666;">}</span><span style="color:#C98A7D;">;</span></span>
<span class="line"><span style="color:#C98A7D;">  }</span></span>
<span class="line"><span style="color:#C98A7D;">}</span></span>
<span class="line"><span style="color:#C98A7D99;">\`</span></span>
<span class="line"><span style="color:#666666;">    }],</span></span>
<span class="line"><span style="color:#666666;">  ],</span></span>
<span class="line"><span style="color:#666666;">})</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#1E754F;">import</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">defineConfig</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">toEscapedSelector</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">as</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">from</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">unocss</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#393A34;"> </span><span style="color:#1E754F;">default</span><span style="color:#393A34;"> </span><span style="color:#59873A;">defineConfig</span><span style="color:#999999;">({</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">rules</span><span style="color:#999999;">: [</span></span>
<span class="line"><span style="color:#999999;">    [</span><span style="color:#B5695999;">/</span><span style="color:#1E754F;">^</span><span style="color:#AB5E3F;">custom-</span><span style="color:#999999;">(</span><span style="color:#A65E2B;">.</span><span style="color:#AB5959;">+</span><span style="color:#999999;">)</span><span style="color:#1E754F;">$</span><span style="color:#B5695999;">/</span><span style="color:#999999;">, ([, </span><span style="color:#B07D48;">name</span><span style="color:#999999;">], { </span><span style="color:#B07D48;">rawSelector</span><span style="color:#999999;">, </span><span style="color:#B07D48;">currentSelector</span><span style="color:#999999;">, </span><span style="color:#B07D48;">variantHandlers</span><span style="color:#999999;">, </span><span style="color:#B07D48;">theme</span><span style="color:#999999;"> }) =&gt; {</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 丢弃不匹配的规则</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">if</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">name</span><span style="color:#999999;">.</span><span style="color:#59873A;">includes</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">something</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">))</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#1E754F;">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 如果你想的话，可以禁用这个规则的变体</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">if</span><span style="color:#999999;"> (</span><span style="color:#B07D48;">variantHandlers</span><span style="color:#999999;">.</span><span style="color:#998418;">length</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">        </span><span style="color:#1E754F;">return</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#AB5959;">const </span><span style="color:#B07D48;">selector</span><span style="color:#AB5959;"> = </span><span style="color:#59873A;">e</span><span style="color:#999999;">(</span><span style="color:#B07D48;">rawSelector</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#A0ADA0;">// 返回一个字符串而不是对象</span></span>
<span class="line"><span style="color:#999999;">      </span><span style="color:#1E754F;">return</span><span style="color:#999999;"> </span><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#999999;">\${</span><span style="color:#B56959;">selector</span><span style="color:#999999;">}</span><span style="color:#B56959;"> {</span></span>
<span class="line"><span style="color:#B56959;">  font-size: </span><span style="color:#999999;">\${</span><span style="color:#B56959;">theme</span><span style="color:#999999;">.</span><span style="color:#B56959;">fontSize</span><span style="color:#999999;">.</span><span style="color:#B56959;">sm</span><span style="color:#999999;">}</span><span style="color:#B56959;">;</span></span>
<span class="line"><span style="color:#B56959;">}</span></span>
<span class="line"><span style="color:#B56959;">/* 你可以有多条规则 */</span></span>
<span class="line"><span style="color:#999999;">\${</span><span style="color:#B56959;">selector</span><span style="color:#999999;">}</span><span style="color:#B56959;">::after {</span></span>
<span class="line"><span style="color:#B56959;">  content: &#39;after&#39;;</span></span>
<span class="line"><span style="color:#B56959;">}</span></span>
<span class="line"><span style="color:#B56959;">.foo &gt; </span><span style="color:#999999;">\${</span><span style="color:#B56959;">selector</span><span style="color:#999999;">}</span><span style="color:#B56959;"> {</span></span>
<span class="line"><span style="color:#B56959;">  color: red;</span></span>
<span class="line"><span style="color:#B56959;">}</span></span>
<span class="line"><span style="color:#B56959;">/* 或媒体查询 */</span></span>
<span class="line"><span style="color:#B56959;">@media (min-width: </span><span style="color:#999999;">\${</span><span style="color:#B56959;">theme</span><span style="color:#999999;">.</span><span style="color:#B56959;">breakpoints</span><span style="color:#999999;">.</span><span style="color:#B56959;">sm</span><span style="color:#999999;">}</span><span style="color:#B56959;">) {</span></span>
<span class="line"><span style="color:#B56959;">  </span><span style="color:#999999;">\${</span><span style="color:#B56959;">selector</span><span style="color:#999999;">}</span><span style="color:#B56959;"> {</span></span>
<span class="line"><span style="color:#B56959;">    font-size: </span><span style="color:#999999;">\${</span><span style="color:#B56959;">theme</span><span style="color:#999999;">.</span><span style="color:#B56959;">fontSize</span><span style="color:#999999;">.</span><span style="color:#B56959;">sm</span><span style="color:#999999;">}</span><span style="color:#B56959;">;</span></span>
<span class="line"><span style="color:#B56959;">  }</span></span>
<span class="line"><span style="color:#B56959;">}</span></span>
<span class="line"><span style="color:#B5695999;">\`</span></span>
<span class="line"><span style="color:#999999;">    }],</span></span>
<span class="line"><span style="color:#999999;">  ],</span></span>
<span class="line"><span style="color:#999999;">})</span></span></code></pre></div><p>您可能需要阅读一些代码才能充分利用它。</p><h2 id="排序" tabindex="-1">排序 <a class="header-anchor" href="#排序" aria-label="Permalink to &quot;排序&quot;">​</a></h2><p>UnoCSS尊重您在生成CSS中定义的规则的顺序。后定义的规则具有更高的优先级。</p><h2 id="规则合并" tabindex="-1">规则合并 <a class="header-anchor" href="#规则合并" aria-label="Permalink to &quot;规则合并&quot;">​</a></h2><p>默认情况下，UnoCSS将合并具有相同属性的CSS规则，以最小化CSS大小。</p><p>例如，<code>&lt;div class=&quot;m-2 hover:m2&quot;&gt;</code> 将生成以下CSS规则：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">hover</span><span style="color:#C99076;">\\:</span><span style="color:#BD976A;">m2</span><span style="color:#666666;">:</span><span style="color:#BD976A;">hover</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">.</span><span style="color:#BD976A;">m-2</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">hover</span><span style="color:#A65E2B;">\\:</span><span style="color:#B07D48;">m2</span><span style="color:#999999;">:</span><span style="color:#B07D48;">hover</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#999999;">.</span><span style="color:#B07D48;">m-2</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span></code></pre></div><p>而不是两个单独的规则：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">hover</span><span style="color:#C99076;">\\:</span><span style="color:#BD976A;">m2</span><span style="color:#666666;">:</span><span style="color:#BD976A;">hover</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">m-2</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span><span style="color:#DBD7CAEE;"> </span><span style="color:#B8A965;">margin</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">hover</span><span style="color:#A65E2B;">\\:</span><span style="color:#B07D48;">m2</span><span style="color:#999999;">:</span><span style="color:#B07D48;">hover</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">m-2</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span><span style="color:#393A34;"> </span><span style="color:#998418;">margin</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span><span style="color:#393A34;"> </span><span style="color:#999999;">}</span></span></code></pre></div>`,30),e=[o];function c(t,r,y,i,A,D){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{C as __pageData,d as default};
