import{_ as s,o as a,c as n,R as p}from"./chunks/framework.7470696c.js";const B=JSON.parse('{"title":"提取","description":"","frontmatter":{},"headers":[],"relativePath":"guide/extracting.md","lastUpdated":1683166439000}'),l={name:"guide/extracting.md"},o=p(`<h1 id="提取" tabindex="-1">提取 <a class="header-anchor" href="#提取" aria-label="Permalink to &quot;提取&quot;">​</a></h1><p>由于 UnoCSS 是在<strong>构建时</strong>工作，这意味着只有在您的应用中静态呈现的工具类才会被生成。在运行时动态使用或从外部资源获取的工具类可能不会被应用。</p><p>默认情况下，UnoCSS 将从构建管道中的文件中提取工具类的使用情况，包括扩展名为 <code>.jsx</code>，<code>.tsx</code>，<code>.vue</code>，<code>.md</code>，<code>.html</code>，<code>.svelte</code>，<code>.astro</code> 的文件，并在需要时生成相应的 CSS。</p><p>.js 和 .ts 文件<strong>不会默认包含在内</strong>。</p><p>您可以在文件中任何位置添加 <code>@unocss-include</code>，以告诉 UnoCSS 强制扫描该文件，或者在配置中添加 <code>*.js</code> 或 <code>*.ts</code>，将所有 js/ts 文件包含为扫描目标。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// ./some-utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD;">// 由于 \`.js\` 文件默认不包含，下面的注释告诉 UnoCSS 强制扫描该文件。</span></span>
<span class="line"><span style="color:#758575DD;">// @unocss-include</span></span>
<span class="line"><span style="color:#4D9375;">export</span><span style="color:#CB7676;"> const </span><span style="color:#BD976A;">classes</span><span style="color:#CB7676;"> = </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">active</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">bg-primary text-white</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span></span>
<span class="line"><span style="color:#666666;">  </span><span style="color:#B8A965;">inactive</span><span style="color:#666666;">: </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">bg-gray-200 text-gray-500</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// ./some-utils.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 由于 \`.js\` 文件默认不包含，下面的注释告诉 UnoCSS 强制扫描该文件。</span></span>
<span class="line"><span style="color:#A0ADA0;">// @unocss-include</span></span>
<span class="line"><span style="color:#1E754F;">export</span><span style="color:#AB5959;"> const </span><span style="color:#B07D48;">classes</span><span style="color:#AB5959;"> = </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">active</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">bg-primary text-white</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span></span>
<span class="line"><span style="color:#999999;">  </span><span style="color:#998418;">inactive</span><span style="color:#999999;">: </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">bg-gray-200 text-gray-500</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p>类似地，您还可以添加 <code>@unocss-ignore</code> 来绕过文件的扫描和转换。</p><h2 id="安全列表" tabindex="-1">安全列表 <a class="header-anchor" href="#安全列表" aria-label="Permalink to &quot;安全列表&quot;">​</a></h2><p>有时您可能希望使用动态的拼接，例如：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">div</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">class</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">p-\${size}</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;&lt;/</span><span style="color:#4D9375;">div</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#758575DD;">&lt;!-- 这不会生效！ --&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">div</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">class</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">p-\${size}</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;&lt;/</span><span style="color:#1E754F;">div</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#A0ADA0;">&lt;!-- 这不会生效！ --&gt;</span></span></code></pre></div><p>由于 UnoCSS 在构建时使用静态提取，编译时无法知道所有工具类的组合。为此，您可以配置 <code>safelist</code> 选项。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#80A665;">safelist</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p-1 p-2 p-3 p-4</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">.</span><span style="color:#80A665;">split</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#59873A;">safelist</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p-1 p-2 p-3 p-4</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">.</span><span style="color:#59873A;">split</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span></code></pre></div><p>将始终生成对应的 CSS：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-1</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.25</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-2</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.5</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-3</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">0.75</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#666666;">.</span><span style="color:#BD976A;">p-4</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">  </span><span style="color:#B8A965;">padding</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#4C9A91;">1</span><span style="color:#CB7676;">rem</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#666666;">}</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-1</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.25</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-2</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.5</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-3</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">0.75</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#B07D48;">p-4</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#998418;">padding</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#2F798A;">1</span><span style="color:#AB5959;">rem</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#999999;">}</span></span></code></pre></div><p>或者更灵活：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#80A665;">safelist</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[...</span><span style="color:#BD976A;">Array</span><span style="color:#666666;">.</span><span style="color:#80A665;">from</span><span style="color:#666666;">({ </span><span style="color:#B8A965;">length</span><span style="color:#666666;">: </span><span style="color:#4C9A91;">4</span><span style="color:#666666;"> },</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">(</span><span style="color:#BD976A;">_</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">i</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=&gt;</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">\`</span><span style="color:#C98A7D;">p-</span><span style="color:#666666;">\${</span><span style="color:#C98A7D;">i </span><span style="color:#CB7676;">+</span><span style="color:#C98A7D;"> </span><span style="color:#4C9A91;">1</span><span style="color:#666666;">}</span><span style="color:#C98A7D99;">\`</span><span style="color:#666666;">)]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#59873A;">safelist</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[...</span><span style="color:#B07D48;">Array</span><span style="color:#999999;">.</span><span style="color:#59873A;">from</span><span style="color:#999999;">({ </span><span style="color:#998418;">length</span><span style="color:#999999;">: </span><span style="color:#2F798A;">4</span><span style="color:#999999;"> },</span><span style="color:#393A34;"> </span><span style="color:#999999;">(</span><span style="color:#B07D48;">_</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">i</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">\`</span><span style="color:#B56959;">p-</span><span style="color:#999999;">\${</span><span style="color:#B56959;">i </span><span style="color:#AB5959;">+</span><span style="color:#B56959;"> </span><span style="color:#2F798A;">1</span><span style="color:#999999;">}</span><span style="color:#B5695999;">\`</span><span style="color:#999999;">)]</span></span></code></pre></div><p>如果您寻求在运行时进行真正的动态生成，可以考虑查看 <a href="https://github.com/unocss/unocss/tree/main/packages/runtime" target="_blank" rel="noreferrer">@unocss/runtime</a> 包。</p><h2 id="黑名单" tabindex="-1">黑名单 <a class="header-anchor" href="#黑名单" aria-label="Permalink to &quot;黑名单&quot;">​</a></h2><p>与 <code>safelist</code> 类似，您还可以配置 <code>blocklist</code> 来排除一些工具类的生成。不同于 <code>safelist</code>，<code>blocklist</code> 接受字符串进行精确匹配和正则表达式进行模式匹配。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#758575DD;">// uno.config.ts</span></span>
<span class="line"><span style="color:#80A665;">blocklist</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">[</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">p-1</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#C4704F;"> </span><span style="color:#C98A7D99;">/</span><span style="color:#4D9375;">^</span><span style="color:#C4704F;">p-</span><span style="color:#666666;">[</span><span style="color:#C99076;">2-4</span><span style="color:#666666;">]</span><span style="color:#4D9375;">$</span><span style="color:#C98A7D99;">/</span><span style="color:#666666;">]</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// uno.config.ts</span></span>
<span class="line"><span style="color:#59873A;">blocklist</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#999999;">[</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">p-1</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#AB5E3F;"> </span><span style="color:#B5695999;">/</span><span style="color:#1E754F;">^</span><span style="color:#AB5E3F;">p-</span><span style="color:#999999;">[</span><span style="color:#A65E2B;">2-4</span><span style="color:#999999;">]</span><span style="color:#1E754F;">$</span><span style="color:#B5695999;">/</span><span style="color:#999999;">]</span></span></code></pre></div><p>这将排除 p-1、p-2、p-3、p-4 的生成。</p>`,21),e=[o];function c(t,r,y,i,d,A){return a(),n("div",null,e)}const C=s(l,[["render",c]]);export{B as __pageData,C as default};
